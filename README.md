# سیستم مدیریت حضور و غیاب دانش‌آموزان

یک سیستم Django برای مدیریت حضور و غیاب دانش‌آموزان با قابلیت ارسال پیامک خودکار به والدین.

## ویژگی‌ها

- ✅ مدیریت دانش‌آموزان و والدین
- ✅ ثبت حضور و غیاب روزانه
- ✅ ارسال خودکار پیامک به والدین در صورت غیبت
- ✅ لیست دانش‌آموزان
- ✅ گزارش حضور و غیاب
- ✅ پنل مدیریت Django

## نصب و راه‌اندازی

### 1. نصب وابستگی‌ها

```bash
pip install -r requirements.txt
```

### 2. تنظیمات محیط

فایل `.env.example` را کپی کنید و به `.env` تغییر نام دهید:

```bash
cp .env.example .env
```

سپس مقادیر را در فایل `.env` تنظیم کنید.

### 3. اجرای migrations

```bash
python manage.py makemigrations
python manage.py migrate
```

### 4. ایجاد کاربر ادمین

```bash
python manage.py createsuperuser
```

### 5. اجرای سرور

```bash
python manage.py runserver
```

سپس به آدرس `http://127.0.0.1:8000` بروید.

## استفاده

### افزودن دانش‌آموز و والد

1. به پنل مدیریت بروید (`/admin/`)
2. ابتدا یک والد اضافه کنید
3. سپس دانش‌آموز را با انتخاب والد اضافه کنید

### ثبت حضور و غیاب

1. به صفحه "ثبت حضور و غیاب" بروید
2. تاریخ، دانش‌آموز و وضعیت را انتخاب کنید
3. در صورت انتخاب "غایب"، پیامک به صورت خودکار به والدین ارسال می‌شود

### ارسال دستی پیامک

در صفحه "حضور و غیاب"، برای هر غیبت که پیامک ارسال نشده، می‌توانید دکمه "ارسال پیامک" را بزنید.

## تنظیمات پیامک

برای فعال‌سازی ارسال پیامک واقعی، باید:

1. یک سرویس پیامک انتخاب کنید (مثل کاوه نگار، پیامک گستر، و غیره)
2. API Key و URL سرویس را در فایل `.env` تنظیم کنید
3. تابع `send_sms` در فایل `attendance/services.py` را با API سرویس خود سازگار کنید

در حالت تست (بدون تنظیمات SMS)، پیامک‌ها در کنسول نمایش داده می‌شوند.

## مدل‌ها

- **Parent**: اطلاعات والدین/سرپرست
- **Student**: اطلاعات دانش‌آموز
- **Attendance**: رکوردهای حضور و غیاب

## صفحات

- `/`: لیست دانش‌آموزان
- `/attendance/`: لیست حضور و غیاب
- `/mark-attendance/`: ثبت حضور و غیاب
- `/admin/`: پنل مدیریت

